
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../mapp-dev/trust-channel/">
      
      
        <link rel="next" href="../map-type-system-revised/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Deployment Architecture - MAP Developer Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#single-process-deployment-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="MAP Developer Docs" class="md-header__button md-logo" aria-label="MAP Developer Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MAP Developer Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deployment Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MAP Developer Docs" class="md-nav__button md-logo" aria-label="MAP Developer Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    MAP Developer Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Mapp Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Mapp Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapp-dev/rust-api-developers-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developers Guide to the MAP Rust-API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapp-dev/holon-data-loader-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Holon Data Loader Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapp-dev/holon-loader-man-page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Holon Data Loader CLI Man Page
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapp-dev/tags_to_memes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags to Memes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapp-dev/extensibility-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The MAP Extensibility Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mapp-dev/trust-channel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trust Channels
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualizer Developers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MAP Core
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            MAP Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Deployment Architecture
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Deployment Architecture
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#conductora-tauri-container" class="md-nav__link">
    <span class="md-ellipsis">
      Conductora Tauri Container
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typescript-client" class="md-nav__link">
    <span class="md-ellipsis">
      TypeScript Client
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rust-holons-client-stateful-in-memory" class="md-nav__link">
    <span class="md-ellipsis">
      Rust Holons Client (Stateful, In-Memory)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rust-holons-guest-wasm-sandbox" class="md-nav__link">
    <span class="md-ellipsis">
      Rust Holons Guest (WASM Sandbox)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#holochain-conductor-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Holochain Conductor Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cross-component-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Component Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../map-type-system-revised/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MAP Type System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transaction-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MAP Transaction Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-boarding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    On-Boarding Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dances-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dances Design Spec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../capsulization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Capsulization Strategy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trust-channel-design-spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trust Channel Design Spec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../holon-data-loader-design-spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Holon Loader Spec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meta-value-types-import-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Meta-Value Import Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../i18n-design-spec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Internationalization Design Spec
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shared Concepts
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shared/glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#conductora-tauri-container" class="md-nav__link">
    <span class="md-ellipsis">
      Conductora Tauri Container
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typescript-client" class="md-nav__link">
    <span class="md-ellipsis">
      TypeScript Client
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rust-holons-client-stateful-in-memory" class="md-nav__link">
    <span class="md-ellipsis">
      Rust Holons Client (Stateful, In-Memory)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rust-holons-guest-wasm-sandbox" class="md-nav__link">
    <span class="md-ellipsis">
      Rust Holons Guest (WASM Sandbox)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#holochain-conductor-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Holochain Conductor Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cross-component-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Component Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="single-process-deployment-architecture">Single Process Deployment Architecture<a class="headerlink" href="#single-process-deployment-architecture" title="Permanent link">&para;</a></h1>
<p>This diagram illustrates the deployment architecture for a MAP installation using a <strong>single-process embedded Holochain Conductor</strong> within a <strong>Tauri container</strong>. All application layers—TypeScript, Rust client, Holochain conductor, and WASM guests—run within a single operating system process, communicating via serialized JSON-RPC or internal Rust interfaces.</p>
<p><img alt="MAP Deployment Arch -- single process -- v1.0.jpg" src="../../media/MAP%20Deployment%20Arch%20--%20single%20process%20--%20v1.0.jpg" /></p>
<hr />
<h2 id="conductora-tauri-container">Conductora Tauri Container<a class="headerlink" href="#conductora-tauri-container" title="Permanent link">&para;</a></h2>
<p>The <strong>Conductora Tauri Container</strong> hosts all MAP client and guest components. It integrates:
- The <strong>TypeScript client UI</strong>, running in a WebView.
- The <strong>Rust Holons Client</strong>, which maintains state and executes local operations.
- The <strong>Holochain Conductor</strong>, which manages WASM guest execution and DHT integration.
- The embedded <strong>WASM sandbox</strong>, which runs guest zomes in isolated execution contexts.</p>
<hr />
<h2 id="typescript-client">TypeScript Client<a class="headerlink" href="#typescript-client" title="Permanent link">&para;</a></h2>
<p>The <strong>TypeScript client</strong> provides the human-facing interface (HI). It communicates with the Rust client through a Tauri <strong>JSON-RPC bridge</strong>, sending dance requests and receiving responses. The TypeScript layer is stateless with respect to Holon data—it holds only <em><strong>references</strong></em> to Holons managed by the Rust client.</p>
<h2 id="rust-holons-client-stateful-in-memory">Rust Holons Client (Stateful, In-Memory)<a class="headerlink" href="#rust-holons-client-stateful-in-memory" title="Permanent link">&para;</a></h2>
<p>The Rust Holons Client serves as the central coordination layer for all runtime activity within the MAP process. It maintains the <strong>active working state</strong> for holons in memory, handles dances invoked by the UI, and also initiates dance requests directed to the guest for execution and persistence.</p>
<ul>
<li>
<p><strong>Client Dancer</strong> — Handles dance calls from the TypeScript client, routes them to the correct dancer, and returns response. Does NOT ping-pong transaction state.</p>
</li>
<li>
<p><strong>Holons Core</strong> — Exposes external-facing API, reference layer, space manager, caching, staging, transient holon management. Makes calls on HolonServiceApi to initiate context-specific actions. Contains no environment-specific dependencies and is reused identically by both client and guest contexts.</p>
</li>
<li>
<p><strong>HolonServiceApi (Trait)</strong> — Defines the abstract interface through which <code>holons_core</code> accesses environment-specific capabilities such as commit, retrieval, and validation. Both <code>ClientHolonService</code> and <code>GuestHolonService</code> implement this trait, allowing the core logic to remain environment-agnostic and preventing circular dependencies between crates.</p>
</li>
<li>
<p><strong>ClientHolonService</strong> — Implements <code>HolonServiceApi</code> for the client runtime. Acts as a <strong>dance relay</strong>, converting trait method calls from <code>holons_core</code> into serialized <strong>dance requests</strong> and forwarding them to the guest for execution through the Conductor. After receiving responses, it reconciles results with the client’s in-memory Cache and Nursery.</p>
</li>
<li>
<p><strong>ClientDanceCall Service</strong> — Bridges between the client and the embedded Conductor. Serializes dance capsules, invokes the Conductor’s API, and deserializes results returned from the guest. Since guest dances are stateless, the Client Dance Call Service ping-pongs transaction state between client and guest. Serializing staged holons from the Nursery and transient holons from the TransientHolonManager and attaching them to outbound dance requests and does the inverse upon response.</p>
</li>
</ul>
<p>Through these components, the Rust Holons Client both <strong>handles incoming dances from the UI</strong> and <strong>initiates outbound dances</strong> to the guest for transactional processing and persistence.</p>
<hr />
<h2 id="rust-holons-guest-wasm-sandbox">Rust Holons Guest (WASM Sandbox)<a class="headerlink" href="#rust-holons-guest-wasm-sandbox" title="Permanent link">&para;</a></h2>
<p>The <strong>WASM sandbox</strong> hosts the <strong>Rust Holons Guest</strong> runtime within the same process. Each guest call executes in isolation and terminates after completion.</p>
<ul>
<li>
<p><strong>Guest Dancer</strong> — Handles dance calls from the Rust Holons Client or other Rust Holons Guests. Since guest dances are stateless, the Guest Dancer ping-pongs transaction state between caller and guest. For the inbound Dance Request, this means inflating its Nursery and Transient Holon Manager by de-serializing staged holons and transient holons from request's session state. It then routes dance calls to the correct <em>dancer</em>. When the <em>dancer</em>  returns, it constructs the Dance Response, serializes the transaction state from Nursery and Transient Holon Manager, attaches this session state to the Dance Response and returns control to the Conductor.</p>
</li>
<li>
<p><strong>Holons Core</strong> — Shared logic reused in the guest context. See <em>Rust Holons Client</em> above for a description of the operations it offers. In the guest, it only operates only on the state provided in the current invocation, but this difference is encapsulated by the Guest Dancer. </p>
</li>
<li>
<p><strong>Guest Holon Service</strong> — The guest implementation of <code>HolonServiceApi</code>. Performs the <strong>heavy-lifting</strong> for holon operations, including validation, persistence to the DHT, and cross-cell interactions. Executes all commit logic and applies schema rules and capability checks enforced by the MAP and Holochain security models.</p>
</li>
<li>
<p><strong>Guest Dance Call Service</strong> — Allows the Rust Holons Guest to initiate dance requests to other guests (i.e., to other spaces). Serializes dance capsules, invokes the Conductor’s API, and deserializes results returned from the guest. Since guest dances are stateless, the Guest Dance Call Service ping-pongs transaction state between client and guest. Serializing staged holons from the Nursery and transient holons from the TransientHolonManager and attaching them to outbound dance requests and does the inverse upon response.</p>
</li>
<li>
<p><strong>Persistence Layer</strong> — Performs durable writes to the Holochain DHT via host functions and validation callbacks.</p>
</li>
</ul>
<hr />
<h2 id="holochain-conductor-integration">Holochain Conductor Integration<a class="headerlink" href="#holochain-conductor-integration" title="Permanent link">&para;</a></h2>
<p>The embedded <strong>Holochain Conductor</strong> mediates all calls between the Rust Holons Client and the WASM guests.</p>
<ul>
<li>The <strong>Dance Call Services</strong> (in both Client and Guest) invoke Conductor APIs directly (no sockets or separate processes).</li>
<li>The <strong>Conductor</strong> either spins up the <strong>WASM guest runtime</strong> for each zome call and passes serialized envelopes or forwards the request to a different Conductor. </li>
<li>After processing, results are returned to the client and reconciled with its local state.</li>
<li>The Conductor manages the local DHT node and connects via <strong>WebRTC</strong> to other Conductors for distributed storage and validation.</li>
</ul>
<hr />
<h2 id="cross-component-flow">Cross-Component Flow<a class="headerlink" href="#cross-component-flow" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>TypeScript Client</strong> builds a Dance Request and sends it via a JSON-RPC request to the <strong>Rust Holons Client</strong>.</li>
<li><strong>Client Dancer</strong> receives the Dance Request from the TypeScript client and routes it to the appropriate handler for that dance.</li>
<li>The dancers uses <strong>Holons Core</strong> API (imported via its prelude) to create, update, and access transient and staged holons. </li>
<li>If the Holons Core needs Holon Service's it obtains the context-specific Holon Service and invokes the desired service.</li>
<li>The Client Holon Service delegates the call the guest but building a Dance Request and then using the <strong>ClientDanceCall Service</strong> to forward the dance request to the embedded <strong>Conductor</strong>.</li>
<li>The Conductor executes the request in a <strong>WASM Guest</strong>, which processes it through the <strong>Guest Dancer</strong> who inflates Nursery and Transient Holon Manager from transaction state passed on the request and then dispatches the appropriate dancer.</li>
<li>The dancer uses Holon Core functions which, in turn, may invoke <strong>Guest Holon Services</strong> via trait methods.</li>
<li><strong>Guest Holon Services</strong> invokes services on the <strong>Persistence Layer</strong> to read/write locally saved holons to the DHT. If it needs to access dances offered by other spaces, it uses the <strong>Guest Dance Call Service</strong>.</li>
<li>Results return through the same path, with the Guest Dancer serializing the transaction state and attaching it to the response.</li>
<li>If required, the Conductor propagates DHT operations via <strong>WebRTC</strong> to peer Conductors.</li>
</ol>
<hr />
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>This architecture consolidates all runtime components—UI, client, conductor, and guest—into a single process for efficient local operation. The <strong>Rust Holons Client</strong> maintains all transient and staged state and handles dance orchestration, while the <strong>Rust Holons Guest</strong> performs validated, persistent commits to the Holochain DHT. The embedded <strong>Conductor</strong> provides the boundary between these layers, enforcing isolation, capability rules, and DHT persistence, while the TypeScript interface remains lightweight and stateless.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../mapp-dev/trust-channel/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Trust Channels">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Trust Channels
              </div>
            </div>
          </a>
        
        
          
          <a href="../map-type-system-revised/" class="md-footer__link md-footer__link--next" aria-label="Next: MAP Type System">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                MAP Type System
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "search.highlight", "navigation.top", "navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>